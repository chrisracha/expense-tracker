@inherits LayoutComponentBase

<MudThemeProvider @bind-IsDarkMode="@_isDarkMode" Theme="_theme" />
<MudPopoverProvider />
<MudDialogProvider />
<MudSnackbarProvider />
<MudLayout>
    <MudAppBar Position="AppBarPosition.Sticky" Elevation="0" Color="Color.Primary" Class="pa-4">
        <MudIcon Icon="@Icons.Material.Filled.ReceiptLong" Class="mr-2" />
        <MudText Typo="Typo.h3" Class="tracking-tight font-bold">Expense Tracker App</MudText>
        <MudSpacer />
        <NavMenu />
    </MudAppBar>
    <MudMainContent Class="pt-16 ma-16 rounded-lg shadow">
        @Body
    </MudMainContent>
</MudLayout>

<div id="blazor-error-ui" data-nosnippet class="fixed bottom-4 right-4 bg-red-600 text-white px-4 py-2 rounded shadow-lg flex items-center space-x-2 z-50">
    <span>An unhandled error has occurred.</span>
    <a href="." class="underline hover:text-gray-200">Reload</a>
    <span class="dismiss cursor-pointer ml-2">🗙</span>
</div>

@code {
    private bool _isDarkMode = true;

    private MudTheme _theme = new MudTheme
    {
        Typography = new Typography()
        {
            Default = new DefaultTypography()
            {
                FontFamily = new[] { "Inter", "ui-sans-serif", "system-ui", "sans-serif" },
                FontSize = "0.875rem",
                FontWeight = "400",
                LineHeight = "1.5",
                LetterSpacing = "0em"
            },
            H1 = new H1Typography()
            {
                FontFamily = new[] { "Anton", "sans-serif" },
                FontSize = "2.25rem",
                FontWeight = "400",
                LineHeight = "2.5rem",
                LetterSpacing = "0em",
                TextTransform = "uppercase"
            },
            H2 = new H2Typography()
            {
                FontFamily = new[] { "Anton", "sans-serif" },
                FontSize = "1.5rem",
                FontWeight = "400",
                LineHeight = "2rem",
                LetterSpacing = "0em",
                TextTransform = "uppercase"
            },
            H3 = new H3Typography()
            {
                FontFamily = new[] { "Inter", "sans-serif" },
                FontSize = "1.25rem",
                FontWeight = "500",
                LineHeight = "1.75rem",
                LetterSpacing = "0em"
            },
        },
        PaletteLight = new PaletteLight()
        {
            Primary = "#0066CC",
            Secondary = "#6699FF",
            Background = "#F4FAFF",
            Surface = "#FFFFFF",
            Error = "#B00020",
            Info = "#1976D2",
            Success = "#43A047",
            Warning = "#FFA000"
        },
        PaletteDark = new PaletteDark()
        {
            Primary = "#3B82F6",
            Secondary = "#6B7280",
            Background = "#1F2937",
            Surface = "#111827",
            Error = "#EF4444",
            Info = "#0EA5E9",
            Success = "#22C55E",
            Warning = "#F59E42"
        }
    };
}
